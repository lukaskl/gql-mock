overwrite: true
schema:
  - './githunt/schema.json'
documents:
  - './githunt/**/*.{gql,graphql}'

generates:
  generated/gqlTypes.ts:
    hooks:
      afterOneFileWrite:
        - prettier --write
    config:
      # read more:
      # https://graphql-code-generator.com/docs/plugins/typescript#usage-example
      # https://graphql-code-generator.com/docs/plugins/typescript-react-apollo
      avoidOptionals:
          object: true
          inputValue: false
      nonOptionalTypename: true
      scalars:
          UUID: string
      withHooks: true
      enumsAsTypes: true
      operationsMap:
          operationTypeTemplate: "{OperationName}{OperationKind}"
          variablesTypeTemplate: '{OperationName}{OperationKind}Variables'
          operationKindTemplate: '{OperationKind}'
    plugins:
      - add: '/* eslint-disable */'
      - 'typescript'
      - 'typescript-operations'

  generated/operationsMap.ts:
    hooks:
      afterOneFileWrite:
        - prettier --write
    config:
      operationsMap:
          operationTypeTemplate: "{OperationName}{OperationKind}"
          variablesTypeTemplate: '{OperationName}{OperationKind}Variables'
          operationKindTemplate: '{OperationKind}'
          importTypesFrom: './gqlTypes'
    plugins:
      - add: '/* eslint-disable */'
      - 'graphql-codegen-types-map'

